<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testology - Unlock Your Potential</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <style>
        /* FINAL FIX: Aggressive Overflow Management */
        html, body {
            width: 100%;  
            overflow-x: hidden !important;  
        }
        body { font-family: 'Poppins', sans-serif; transition: background-color 0.4s ease, color 0.4s ease; }
        
        .theme-light { --bg-primary: #fdfaf6; --bg-secondary: #ffffff; --text-primary: #3d352e; --text-secondary: #475569; --border-color: #e7e0d8; --shadow-color: rgba(99, 102, 241, 0.15); --bg-animated: linear-gradient(135deg, #f5f7fa, #c3cfe2, #e2ebf0); --gradient-border: linear-gradient(145deg, #ec4899, #8b5cf6); --gradient-text: var(--gradient-border); --glow-color: rgba(99, 102, 241, 0.6); }
        .theme-dark { --bg-primary: #0b1120; --bg-secondary: #1a233b; --text-primary: #e2e8f0; --text-secondary: #94a3b8; --border-color: #334155; --shadow-color: rgba(0, 0, 0, 0.3); --bg-animated: linear-gradient(135deg, #0f2027, #203a43, #2c5364); --gradient-border: linear-gradient(145deg, #22d3ee, #818cf8); --gradient-text: var(--gradient-border); --glow-color: rgba(34, 211, 238, 0.5); }
        .theme-eye-care { --bg-primary: #2c2520; --bg-secondary: #3b302a; --text-primary: #e0d5ce; --text-secondary: #c5b8b1; --border-color: #5a4b44; --shadow-color: rgba(0, 0, 0, 0.3); --bg-animated: linear-gradient(135deg, #3a2d27, #5c4b41, #3a2d27); --gradient-border: linear-gradient(145deg, #f59e0b, #fbbf24); --gradient-text: var(--gradient-border); --glow-color: rgba(245, 158, 11, 0.6); }
        
        body { background-color: var(--bg-primary); color: var(--text-primary); transition: background-color 0.4s ease, color 0.4s ease; }
        .bg-secondary { background-color: var(--bg-secondary); }
        .text-secondary { color: var(--text-secondary); }
        .border-custom { border-color: var(--border-color); }
        .shadow-custom-lg { box-shadow: 0 25px 50px -12px var(--shadow-color), 0 0 15px var(--shadow-color); }
        
        #animated-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-animated); background-size: 200% 200%; z-index: -1; animation: gradient-animation 20s ease infinite; }
        @keyframes gradient-animation { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        .gradient-border-container { padding: 2px; border-radius: 1.7rem; background: var(--gradient-border); transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .gradient-border-container:not(.breathing-glow):hover { transform: translateY(-5px) scale(1.02); box-shadow: 0 30px 60px -15px var(--shadow-color); }
        
        .gradient-text { background: var(--gradient-text); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        /* Ensure animations don't cause overflow issues */
        .content-card { opacity: 0; transition: opacity 0.8s cubic-bezier(0.25, 1, 0.5, 1), transform 0.8s cubic-bezier(0.25, 1, 0.5, 1); }
        .content-card.float-in-left { transform: translateX(-100px) scale(0.95); }
        .content-card.float-in-right { transform: translateX(100px) scale(0.95); }
        .content-card.is-visible { opacity: 1; transform: translateX(0) scale(1); }

        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .animate-pulse-custom { animation: pulse 2.5s infinite; }
        [x-cloak] { display: none !important; }

        .focus-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); backdrop-filter: blur(8px); z-index: 99; }
        .subtle-glow { text-shadow: 0 0 8px var(--glow-color), 0 0 10px var(--glow-color); transition: text-shadow 0.4s ease; }

        .form-input, .form-select {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            transition: all 0.3s ease;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--glow-color);
            box-shadow: 0 0 0 2px var(--glow-color);
        }
        .form-select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }

        @media (max-width: 768px) {
            .diagnostic-question-text { font-size: 1rem; line-height: 1.5rem; }
            .diagnostic-option-text { font-size: 0.9rem; line-height: 1.4rem; padding: 0.75rem !important; }
        }

        /* PRELIMS PULSE FIXES */
        .flipper { perspective: 1000px; }
        .flipper-inner {  
            position: relative;  
            transition: transform 0.8s;  
            transform-style: preserve-3d;
            height: 100%;  
        }
        .flipper.is-flipped .flipper-inner { transform: rotateY(180deg); }
        .front, .back {  
            position: absolute;  
            width: 100%;  
            height: 100%;  
            -webkit-backface-visibility: hidden;  
            backface-visibility: hidden;  
        }
        .back { transform: rotateY(180deg); }
        
        @keyframes breathing-glow-animation {
            0% { box-shadow: 0 0 15px 0px var(--glow-color); }
            50% { box-shadow: 0 0 30px 5px var(--glow-color); }
            100% { box-shadow: 0 0 15px 0px var(--glow-color); }
        }
        .breathing-glow { animation: breathing-glow-animation 4s ease-in-out infinite; }

        /* ================================================= */
        /* == START: Diagnostic Question Overflow Fix      == */
        /* ================================================= */

        /* This class targets the question text area in your diagnostic test modal. */
        .diagnostic-question-text {
            /* These properties ensure long text wraps correctly and doesn't expand the card horizontally. */
            overflow-wrap: break-word; /* For modern browsers */
            word-wrap: break-word;     /* For older browsers */
            word-break: break-word;    /* A fallback to prevent layout breaking */
            
            /* This is the key part for the scrolling behavior. */
            /* We set a maximum height for the question area. */
            max-height: 40vh; /* You can adjust this value. 40vh means 40% of the viewport's height. */
            
            /* When the content exceeds max-height, a vertical scrollbar will appear. */
            overflow-y: auto;
            
            /* Add some padding on the right to prevent the scrollbar from overlapping the text. */
            padding-right: 1rem;
        }
        
        /* Optional: Improve the appearance of the scrollbar for Webkit browsers (Chrome, Safari) */
        .diagnostic-question-text::-webkit-scrollbar {
            width: 8px;
        }
        
        .diagnostic-question-text::-webkit-scrollbar-track {
            background: var(--bg-primary);
            border-radius: 4px;
        }
        
        .diagnostic-question-text::-webkit-scrollbar-thumb {
            background-color: var(--border-color);
            border-radius: 4px;
            border: 2px solid var(--bg-primary);
        }

        /* =============================================== */
        /* == END: Diagnostic Question Overflow Fix      == */
        /* =============================================== */
    </style>
</head>

<body x-data="site()" :class="theme" @keydown.escape="showDiagnostic = false; showComingSoon = false; showExitMessage = false" x-on:close-diagnostic.window="showDiagnostic = false">

    <div x-show="focusMode" x-transition.opacity.duration.300 class="focus-overlay" x-cloak></div>
    <div id="animated-bg"></div>

    <header class="bg-secondary/80 backdrop-blur-sm shadow-md fixed w-full top-0 z-[100] transition-all duration-300">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div x-data="{ flipped: false }" @click="flipped = !flipped; setTimeout(() => flipped = false, 2000)" class="flipper cursor-pointer" :class="{ 'is-flipped': flipped }">
                <div class="flipper-inner" style="width: 200px; height: 50px;">
                    <div class="front flex items-center">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 bg-indigo-500 rounded-full flex items-center justify-center shadow-lg">
                                <span class="text-3xl font-bold text-white">T</span>
                            </div>
                            <div>
                                <h1 class="text-2xl font-bold text-indigo-500">Testology</h1>
                                <p class="text-xs text-secondary hidden sm:block font-medium subtle-glow">"Two tests a day keep failure away"</p>
                            </div>
                        </div>
                    </div>
                    <div class="back flex items-center">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 bg-pink-600 rounded-full flex items-center justify-center shadow-lg"><span class="text-3xl font-bold text-white">ü§´</span></div>
                            <div>
                                <h1 class="text-md font-bold text-pink-500">‡§™‡§¢‡§º‡§æ‡§à ‡§Æ‡•á‡§Ç ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•ã!</h1>
                                <p class="text-xs text-secondary hidden sm:block font-medium">(Focus on your studies!)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="hidden md:flex items-center space-x-4">
                <a href="#home" class="font-medium text-secondary hover:text-indigo-500 px-3 py-2">Home</a>
                <a href="#prelims-pulse" class="font-medium text-secondary hover:text-indigo-500 px-3 py-2">Prelims Pulse</a>
                <a href="#mcq-zones" class="font-medium text-secondary hover:text-indigo-500 px-3 py-2">MCQ Zones</a>
                <a href="#clarity-hub" class="font-medium text-secondary hover:text-indigo-500 px-3 py-2">Clarity Hub</a>
                <a href="#youtube" class="font-medium text-secondary hover:text-indigo-500 px-3 py-2">Videos</a>
                <button @click="toggleTheme()" class="p-2 rounded-full hover:bg-primary/50"><span x-text="themeIcons[currentThemeIndex]"></span></button>
            </div>
            <div x-data="{ open: false }" class="md:hidden">
                <button @click="open = !open" class="text-primary focus:outline-none"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg></button>
                <div x-show="open" @click.away="open = false" x-transition class="absolute top-16 right-4 mt-2 w-48 bg-secondary rounded-lg shadow-lg z-20">
                    <a href="#home" @click="open = false" class="block px-4 py-2 text-secondary hover:bg-primary">Home</a>
                    <a href="#prelims-pulse" @click="open = false" class="block px-4 py-2 text-secondary hover:bg-primary">Prelims Pulse</a>
                    <a href="#mcq-zones" @click="open = false" class="block px-4 py-2 text-secondary hover:bg-primary">MCQ Zones</a>
                    <a href="#clarity-hub" @click="open = false" class="block px-4 py-2 text-secondary hover:bg-primary">Clarity Hub</a>
                    <a href="#youtube" @click="open = false" class="block px-4 py-2 text-secondary hover:bg-primary">Videos</a>
                    <div class="border-t border-custom"></div>
                    <button @click="toggleTheme(); open = false" class="w-full text-left px-4 py-2 text-secondary hover:bg-primary flex items-center">Change Theme <span class="ml-auto" x-text="themeIcons[currentThemeIndex]"></span></button>
                </div>
            </div>
        </nav>
    </header>

    <main class="relative pt-20 pb-24 space-y-28 md:space-y-40">
        <div class="content-card mt-8 md:mt-16"> <section id="home" class="container mx-auto px-6">
                <div class="gradient-border-container breathing-glow">
                    <div class="p-8 md:p-12 bg-secondary rounded-3xl text-center relative z-10">
                        <h2 class="text-4xl md:text-6xl font-bold mb-2">Unlock Your Potential</h2>
                        <h3 class="text-lg md:text-xl text-indigo-400 mb-4 italic">A Self-Evaluation: UPSC or your State PSC?</h3>
                        <p class="text-secondary max-w-2xl mx-auto mb-8">"‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§ï‡•ã ‡§¶‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§π‡•Ä‡§Ç ‡§ñ‡•Å‡§¶ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡§¢‡§º‡•á‡§Ç, ‡§Ü‡§™‡§ï‡•ã ‡§Ü‡§™‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§ï‡•ã‡§à ‡§®‡§π‡•Ä‡§Ç ‡§ú‡§æ‡§® ‡§∏‡§ï‡§§‡§æ ‡§§‡•ã ‡§ñ‡•Å‡§¶ ‡§ï‡•ã ‡§ß‡•ã‡§ñ‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡•ã‡§Ç ‡§∞‡§ñ‡§®‡§æ?"</p>
                        <button @click="showDiagnostic = true" class="inline-flex items-center justify-center bg-indigo-600 text-white font-bold py-4 px-10 rounded-lg transition text-lg animate-pulse-custom hover:bg-indigo-700">Start Self-Evaluation <span class="ml-3 text-2xl">‚Üí</span></button>
                    </div>
                </div>
            </section>
        </div>

        <div class="content-card">
            <section id="prelims-pulse" class="container mx-auto px-6" x-data="prelimsPulse()">
                <div class="gradient-border-container">
                    <div class="p-8 md:p-12 bg-secondary rounded-3xl text-center relative z-10">
                        <h2 class="text-3xl font-bold mb-2">Prelims Pulse</h2>
                        <h3 class="text-lg text-secondary mb-6 italic">"‡§ú‡•ç‡§û‡§æ‡§® ‡§ï‡•Ä ‡§¶‡•à‡§®‡§ø‡§ï ‡§Ö‡§ó‡•ç‡§®‡§ø‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ‡•§ ‡§π‡§∞ ‡§¶‡§ø‡§® ‡§è‡§ï ‡§â‡§ö‡•ç‡§ö-‡§∏‡•ç‡§§‡§∞‡•Ä‡§Ø ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§™‡§®‡•á ‡§¶‡§ø‡§Æ‡§æ‡§ó ‡§ï‡•ã ‡§§‡•á‡§ú ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§Ö‡§®‡•Å‡§∂‡§æ‡§∏‡§® ‡§ï‡§æ ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£ ‡§ï‡§∞‡•á‡§Ç‡•§"</h3>

                        <div class="flex justify-center items-center mb-4 md:mb-0 md:absolute md:top-6 md:right-6">
                            <div class="flex items-center space-x-2 text-sm">
                                <span class="text-secondary font-medium">English</span>
                                <div @click="toggleLanguage()" class="w-12 h-6 flex items-center bg-gray-600 rounded-full p-1 cursor-pointer transition-colors" :class="{'bg-indigo-600': language === 'hi'}">
                                    <div class="w-5 h-5 bg-white rounded-full shadow-md transform transition-transform" :class="{'translate-x-6': language === 'hi'}"></div>
                                </div>
                                <span class="text-secondary font-medium">‡§π‡§ø‡§Ç‡§¶‡•Ä</span>
                            </div>
                        </div>

                        <div class="flipper mx-auto max-w-4xl" :class="{'is-flipped': flipped}" style="min-height: 400px;">
                            <div class="flipper-inner">
                                <div class="front w-full">
                                    <div class="w-full text-left p-4 md:p-6">
                                        <template x-if="isLoading">
                                            <div class="text-center py-16 text-indigo-400 font-bold text-xl animate-pulse">
                                                <p>Fetching today's question from Google Sheets...</p>
                                                <p>‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡•á‡§Ç...</p>
                                            </div>
                                        </template>
                                        <template x-if="!isLoading && !questionData">
                                            <div class="text-center py-16 text-red-400 font-bold text-xl">
                                                <p>Error: Could not load question data for today.</p>
                                                <p>‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ‡§Ü‡§ú ‡§ï‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§≤‡•ã‡§° ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§™‡§æ‡§Ø‡§æ‡•§ Google Sheet data check karein.</p>
                                            </div>
                                        </template>
                                        
                                        <template x-if="!isLoading && questionData">
                                            <div>
                                                <p class="text-lg font-semibold mb-6 whitespace-pre-line" x-text="questionData.question[language]"></p>
                                                <div class="space-y-3">
                                                    <template x-for="(option, index) in questionData.options[language]" :key="index">
                                                        <button @click="selectedAnswerIndex = index" class="w-full text-left p-4 border rounded-lg transition-colors duration-300 border-custom hover:bg-indigo-500/10" :class="{'border-indigo-500 ring-2 ring-indigo-500': index === selectedAnswerIndex}">
                                                            <span x-text="option"></span>
                                                        </button>
                                                    </template>
                                                </div>
                                                <div class="text-center mt-8">
                                                    <button @click="lockAnswer()" :disabled="selectedAnswerIndex === null" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed">Lock Answer</button>
                                                </div>
                                            </div>
                                        </template>
                                    </div>
                                </div>
                                <div class="back w-full">
                                    <div class="w-full h-full p-8 rounded-3xl text-left flex flex-col justify-center" :class="isCorrect ? 'bg-green-500/10 border border-green-700' : 'bg-red-500/10 border border-red-700'">
                                        <h3 class="text-2xl font-bold mb-4" x-text="isCorrect ? feedbackMessage.correct[language] : feedbackMessage.incorrect[language]"></h3>
                                        <p class="font-semibold text-lg mb-2">Explanation:</p>
                                        <p class="text-secondary" x-text="questionData.explanation[language]"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <div class="content-card">
            <section id="mcq-zones" class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold mb-2">MCQ Zones</h2>
                    <h3 class="text-2xl font-semibold mb-4 italic gradient-text">‡§¶‡•ã ‡§ü‡•á‡§∏‡•ç‡§ü ‡§∞‡•ã‡§ú‡§º, ‡§∏‡§ï‡•ç‡§∏‡•á‡§∏ ‡§ï‡•á ‡§∞‡§π‡•ã ‡§ï‡•ç‡§≤‡•ã‡§ú‡•§</h3>
                    <p class="text-secondary max-w-3xl mx-auto">"‡§∏‡§´‡§≤‡§§‡§æ ‡§ï‡•Ä ‡§á‡§Æ‡§æ‡§∞‡§§ ‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§®‡•Ä‡§Ç‡§µ ‡§™‡§∞ ‡§ñ‡§°‡§º‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§ ‡§Ø‡§π‡§æ‡§Å ‡§µ‡§ø‡§∑‡§Ø-‡§µ‡§æ‡§∞ ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡§ï‡•á ‡§Ö‡§™‡§®‡•á ‡§ú‡•ç‡§û‡§æ‡§® ‡§ï‡•Ä ‡§π‡§∞ ‡§à‡§Ç‡§ü ‡§ï‡•ã ‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§"</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 text-left">
                    <div class="gradient-border-container">
                        <div class="p-6 bg-secondary rounded-3xl h-full flex flex-col">
                            <h4 class="text-2xl font-bold mb-4">Static Zone (PYQ & New MCQ)</h4>
                            <div class="space-y-3 flex-grow">
                                <div class="text-center my-2 border-t border-b border-custom py-3">
                                    <p class="text-secondary text-sm mb-2">‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§ú‡§ó‡§π:</p>
                                    <button @click="showComingSoonModal('NCERT Test')" class="w-full bg-indigo-500/20 text-indigo-300 font-bold py-3 px-6 rounded-lg hover:bg-indigo-500/30 transition text-sm">üöÄ NCERT ‡§´‡§æ‡§â‡§Ç‡§°‡•á‡§∂‡§® ‡§ü‡•á‡§∏‡•ç‡§ü ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</button>
                                </div>
                                <p class="text-center text-secondary text-sm">‡§Ø‡§æ, ‡§Ö‡§™‡§®‡§æ ‡§ï‡§∏‡•ç‡§ü‡§Æ ‡§ü‡•á‡§∏‡•ç‡§ü ‡§¨‡§®‡§æ‡§è‡§Ç:</p>
                                
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                    <div>
                                        <label class="text-xs font-medium text-secondary">Language</label>
                                        <select class="w-full p-2 rounded-lg form-select mt-1 text-sm">
                                            <option>English</option>
                                            <option>‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="text-xs font-medium text-secondary">Exam</label>
                                        <select class="w-full p-2 rounded-lg form-select mt-1 text-sm">
                                            <option>UPSC</option>
                                            <option>UPPSC</option>
                                            <option>MPPSC</option>
                                            <option>BPSC</option>
                                            <option>RPSC</option>
                                            <option>UKPSC</option>
                                            <option>HPSC</option>
                                            <option>Others</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                    <div>
                                        <label class="text-xs font-medium text-secondary">Subject</label>
                                        <select class="w-full p-2 rounded-lg form-select mt-1 text-sm">
                                            <option>History</option>
                                            <option>Polity</option>
                                            <option>Geography</option>
                                            <option>Economy</option>
                                            <option>Science & Tech</option>
                                            <option>Environment</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="text-xs font-medium text-secondary">Topic</label>
                                        <input type="text" placeholder="e.g., Indus Valley Civilization" class="w-full p-2 rounded-lg form-input mt-1 text-sm">
                                    </div>
                                </div>

                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="text-xs font-medium text-secondary">Type</label>
                                        <select class="w-full p-2 rounded-lg form-select mt-1 text-sm">
                                            <option>New MCQ</option>
                                            <option>PYQ</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="text-xs font-medium text-secondary">Questions</label>
                                        <select class="w-full p-2 rounded-lg form-select mt-1 text-sm">
                                            <option>5</option>
                                            <option>10</option>
                                            <option>15</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <button @click="showComingSoonModal('MCQ Zone')" class="w-full bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition mt-4">Get Questions</button>
                        </div>
                    </div>
                    <div class="gradient-border-container">
                        <div class="p-6 bg-secondary rounded-3xl h-full flex flex-col">
                            <h4 class="text-2xl font-bold mb-4">Current Affairs Zone</h4>
                            <div class="space-y-3 flex-grow">
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="text-xs font-medium text-secondary">Language</label>
                                        <select class="w-full p-2 rounded-lg form-select mt-1 text-sm">
                                            <option>English</option>
                                            <option>‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="text-xs font-medium text-secondary">Questions</label>
                                        <select class="w-full p-2 rounded-lg form-select mt-1 text-sm">
                                            <option>5</option>
                                            <option>10</option>
                                            <option>15</option>
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <label class="text-xs font-medium text-secondary">Subject</label>
                                    <input type="text" placeholder="e.g., Polity & Governance" class="w-full p-2 rounded-lg form-input mt-1 text-sm">
                                </div>
                                <div>
                                    <label class="text-xs font-medium text-secondary">Month</label>
                                    <input type="text" placeholder="e.g., January 2025" class="w-full p-2 rounded-lg form-input mt-1 text-sm">
                                </div>
                                <div>
                                    <label class="text-xs font-medium text-secondary">Topic</label>
                                    <input type="text" placeholder="e.g., G20 Summit" class="w-full p-2 rounded-lg form-input mt-1 text-sm">
                                </div>
                            </div>
                            <button @click="showComingSoonModal('MCQ Zone')" class="w-full bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition mt-4">Get Questions</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <div class="content-card">
            <section id="clarity-hub" class="container mx-auto px-6">
                <div class="gradient-border-container">
                    <div class="p-8 md:p-12 bg-secondary rounded-3xl w-full text-center relative z-10">
                        <h2 class="text-4xl font-bold mb-2">Concept Clarity Hub</h2>
                        <p class="text-lg text-secondary mb-8">"‡§è‡§ï ‡§≠‡•Ä ‡§∏‡§Ç‡§¶‡•á‡§π ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§´‡§≤‡§§‡§æ ‡§Æ‡•á‡§Ç ‡§¨‡§æ‡§ß‡§æ ‡§® ‡§¨‡§®‡•á‡•§ ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡•á ‡§π‡§∞ '‡§ï‡•ç‡§Ø‡•ã‡§Ç' ‡§ï‡§æ ‡§ú‡§µ‡§æ‡§¨ ‡§™‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§Ö‡§™‡§®‡•Ä ‡§Ö‡§µ‡§ß‡§æ‡§∞‡§£‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§ï‡•ç‡§∞‡§ø‡§∏‡•ç‡§ü‡§≤-‡§ï‡•ç‡§≤‡§ø‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç‡•§"</p>
                        <div class="max-w-2xl mx-auto">
                            <textarea placeholder="Type your doubt here..." rows="5" class="w-full p-3 rounded-lg form-input"></textarea>
                            <div class="text-center mt-6">
                                <button @click="showComingSoonModal('Doubt Hub')" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition">Submit Doubt</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <div class="content-card">
            <section id="youtube" class="container mx-auto px-6">
                <div class="gradient-border-container">
                    <div class="p-8 md:p-12 bg-secondary rounded-3xl w-full text-center relative z-10">
                        <h2 class="text-4xl font-bold mb-2">From Our Channel</h2>
                        <p class="text-lg text-secondary mb-8">"‡§∏‡§ø‡§∞‡•ç‡§´ '‡§ï‡•ç‡§Ø‡§æ' ‡§™‡§¢‡§º‡§®‡§æ ‡§π‡•à ‡§Ø‡§π ‡§®‡§π‡•Ä‡§Ç, ‡§¨‡§≤‡•ç‡§ï‡§ø '‡§ï‡•à‡§∏‡•á' ‡§™‡§¢‡§º‡§®‡§æ ‡§π‡•à ‡§Ø‡§π ‡§≠‡•Ä ‡§∏‡•Ä‡§ñ‡•á‡§Ç‡•§ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§∞‡§£‡§®‡•Ä‡§§‡§ø‡§ï ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§® ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§"</p>
                         <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto">
                             <div class="bg-secondary rounded-2xl shadow-custom border border-custom overflow-hidden">
                                 <div class="aspect-w-16 aspect-h-9"><iframe class="w-full h-full" src="https://www.youtube.com/embed/YourVideoID1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
                                 <div class="p-6"><h3 class="text-xl font-semibold mb-2">Video Title 1</h3><p class="text-secondary">Relevant notes for this video.</p></div>
                             </div>
                             <div class="bg-secondary rounded-2xl shadow-custom border border-custom overflow-hidden">
                                  <div class="aspect-w-16 aspect-h-9"><iframe class="w-full h-full" src="https://www.youtube.com/embed/YourVideoID2" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
                                  <div class="p-6"><h3 class="text-xl font-semibold mb-2">Video Title 2</h3><p class="text-secondary">Relevant notes for this video.</p></div>
                             </div>
                         </div>
                       <p class="mt-8 text-lg font-semibold text-indigo-400">Follow us for more: <a href="https://www.youtube.com/@testologyGSQ" target="_blank" class="hover:underline">@testologyGSQ</a></p>
                    </div>
                </div>
            </section>
        </div>
    </main>
    
    <div x-show="showDiagnostic" class="fixed inset-0 z-[100] flex items-center justify-center p-4" x-cloak>
        <div @click.away="$dispatch('close-diagnostic')" x-show="showDiagnostic" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 scale-95" x-transition:enter-end="opacity-100 scale-100" x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100 scale-100" x-transition:leave-end="opacity-0 scale-95" class="bg-secondary rounded-3xl shadow-custom-lg w-full max-w-5xl max-h-[95vh] md:max-h-[90vh] overflow-y-auto" x-data="diagnosticTest()">
            <div class="p-6 md:p-12 relative">
                <button @click="$dispatch('close-diagnostic')" class="absolute top-4 right-4 text-secondary hover:text-indigo-500 text-3xl z-10">&times;</button>
                
                <div x-show="currentView === 'languageSelection'" x-transition.opacity.duration.100 class="text-center max-w-3xl mx-auto">
                    <h2 class="text-3xl font-bold mb-4">Choose Your Language</h2>
                    <h3 class="text-2xl font-bold mb-8">‡§Ö‡§™‡§®‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç</h3>
                    <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-8">
                        <button @click="setLanguage('en')" class="bg-indigo-600 text-white font-bold py-4 px-10 rounded-lg hover:bg-indigo-700 transition w-full sm:w-auto">English</button>
                        <button @click="setLanguage('hi')" class="bg-pink-600 text-white font-bold py-4 px-10 rounded-lg hover:bg-pink-700 transition w-full sm:w-auto">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
                    </div>
                </div>

                <div x-show="currentView === 'overview'" x-transition.opacity.duration.100 class="text-center max-w-3xl mx-auto">
                     <h2 class="text-3xl font-bold mb-4" x-text="language === 'hi' ? '‡§Ü‡§™‡§ï‡•á ‡§Ü‡§§‡•ç‡§Æ-‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§Ç‡§ï‡§® ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!' : 'Welcome to Your Self-Evaluation!'"></h2>
                     <p class="text-secondary mb-8" x-text="language === 'hi' ? '‡§Ø‡§π ‡§ü‡•á‡§∏‡•ç‡§ü ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§Ü‡§™‡§ï‡•á ‡§ú‡•ç‡§û‡§æ‡§® ‡§ï‡•Ä ‡§ú‡§æ‡§Å‡§ö ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡§æ, ‡§¨‡§≤‡•ç‡§ï‡§ø ‡§Ø‡§π ‡§è‡§ï ‡§è‡§∏‡•ç‡§™‡§ø‡§∞‡•á‡§Ç‡§ü ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§™‡•Ç‡§∞‡•Ä ‡§∂‡§ñ‡•ç‡§∏‡§ø‡§Ø‡§§ ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ ‡§Ö‡§ó‡§≤‡•á 5 ‡§õ‡•ã‡§ü‡•á ‡§ü‡•á‡§∏‡•ç‡§ü‡•ã‡§Ç ‡§Æ‡•á‡§Ç, ‡§π‡§Æ ‡§Ü‡§™‡§ï‡•Ä ‡§§‡•à‡§Ø‡§æ‡§∞‡•Ä ‡§ï‡•á ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§Ü‡§Ø‡§æ‡§Æ‡•ã‡§Ç ‡§ï‡•ã ‡§™‡§∞‡§ñ‡•á‡§Ç‡§ó‡•á:' : 'This test doesn\'t just check your knowledge; it analyzes your entire personality as an aspirant. In the next 5 short tests, we will assess different dimensions of your preparation:'"></p>
                     <ul class="space-y-4 text-left mb-8">
                         <template x-for="section in activeSections" :key="section.name">
                             <li class="flex items-start space-x-3">
                                 <span class="text-2xl" x-text="section.icon"></span>
                                 <div>
                                     <h4 class="font-semibold" x-text="section.name"></h4>
                                     <p class="text-sm text-secondary" x-text="section.description"></p>
                                 </div>
                             </li>
                         </template>
                     </ul>
                     <p class="text-secondary italic mb-8" x-text="language === 'hi' ? '‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡•ã‡§Ç ‡§ï‡•á ‡§â‡§§‡•ç‡§§‡§∞ ‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞‡•Ä ‡§∏‡•á ‡§¶‡•á‡§Ç‡•§ ‡§Ø‡§π ‡§ü‡•á‡§∏‡•ç‡§ü ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•à, ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§π‡•Ä‡§Ç‡•§' : 'Please answer all questions honestly. This test is for you, not for the world.'"></p>
                     <button @click="currentView = 'test'" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition" x-text="language === 'hi' ? '‡§Æ‡•à‡§Ç ‡§∏‡§Æ‡§ù ‡§ó‡§Ø‡§æ, ‡§ö‡§≤‡§ø‡§è ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç' : 'I Understand, Let\'s Begin'"></button>
                </div>

                <div x-show="currentView === 'test' && (currentSection().type === 'mcq' || currentSection().type === 'mindset')" x-transition.opacity.duration.100>
                    <h2 class="text-2xl font-bold mb-2 text-center" x-text="currentSection().name"></h2>
                    <p class="text-center text-secondary mb-6" x-text="`${language === 'hi' ? '‡§™‡•ç‡§∞‡§∂‡•ç‡§®' : 'Question'} ${currentQuestionIndex + 1} / ${currentSection().questions.length}`"></p>
                    <div class="w-full bg-secondary/50 rounded-full h-2.5 mb-8 border border-custom">
                        <div class="bg-indigo-500 h-full rounded-full transition-all duration-500" :style="`width: ${progressPercentage}%`"></div>
                    </div>
                    <div class="text-left max-w-4xl mx-auto">
                        <p class="text-lg font-semibold mb-4 whitespace-pre-line diagnostic-question-text" x-text="`Q. ${currentQuestion().question}`"></p>
                        <div class="space-y-3">
                            <template x-for="(option, index) in currentQuestion().options" :key="index">
                                <button @click="selectAnswer(index)" class="w-full text-left p-4 border rounded-lg transition-colors duration-300 diagnostic-option-text border-custom hover:bg-indigo-500/10" :class="{'border-indigo-500 ring-2 ring-indigo-500': index === currentQuestion().selectedAnswerIndex }">
                                    <span x-text="option"></span>
                                </button>
                            </template>
                        </div>
                    </div>
                    <div class="mt-8 text-center">
                         <button @click="next()" :disabled="currentQuestion().selectedAnswerIndex === null" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition disabled:bg-gray-400" x-text="isLastQuestionOfSection() ? (language === 'hi' ? '‡§∏‡•á‡§ï‡•ç‡§∂‡§® ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç' : 'Submit Section') : (language === 'hi' ? '‡§Ö‡§ó‡§≤‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‚Üí' : 'Next Question ‚Üí')"></button>
                    </div>
                </div>
                
                <div x-show="currentView === 'test' && currentSection().type === 'litmus'" x-transition.opacity.duration.100 class="text-center max-w-4xl mx-auto">
                    <h2 class="text-2xl font-bold mb-4" x-text="currentSection().name"></h2>
                    <div class="p-6 border border-custom rounded-2xl bg-primary/20 mb-6">
                        <h3 class="text-lg font-bold" x-text="currentSection().article.headline"></h3>
                    </div>
                    <p class="text-secondary mb-6" x-text="language === 'hi' ? '‡§á‡§∏ ‡§∏‡§Æ‡§æ‡§ö‡§æ‡§∞ ‡§ï‡•ã ‡§™‡§¢‡§º‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶, ‡§è‡§ï Aspirant ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§Ö‡§™‡§®‡•á ‡§µ‡§ø‡§ö‡§æ‡§∞‡•ã‡§Ç ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§ú‡§¨ ‡§Ü‡§™ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•ã‡§Ç, ‡§§‡•ã ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡•Ä‡§ö‡•á ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§' : 'After reading this news, analyze your thoughts as an Aspirant. When you are ready, click below to see the analysis.'"></p>
                    
                    <div x-data="{ showAnalysis: false }">
                        <button @click="showAnalysis = true" x-show="!showAnalysis" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition" x-text="language === 'hi' ? '‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§¶‡•á‡§ñ‡•á‡§Ç' : 'Show Analysis'"></button>
                        
                        <div x-show="showAnalysis" x-transition.opacity.duration.500 class="text-left grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                            <div class="p-4 border border-red-500/50 rounded-lg bg-red-500/10">
                                <h4 class="font-bold text-red-400 mb-2" x-text="currentSection().article.citizenView.title"></h4>
                                <ul class="list-disc list-inside text-secondary space-y-1">
                                    <template x-for="point in currentSection().article.citizenView.points" :key="point">
                                        <li x-text="point"></li>
                                    </template>
                                </ul>
                            </div>
                            <div class="p-4 border border-green-500/50 rounded-lg bg-green-500/10">
                                <h4 class="font-bold text-green-400 mb-2" x-text="currentSection().article.aspirantView.title"></h4>
                                <ul class="list-disc list-inside text-secondary space-y-1">
                                     <template x-for="point in currentSection().article.aspirantView.points" :key="point">
                                        <li x-text="point"></li>
                                    </template>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-8 text-center" x-show="showAnalysis">
                            <button @click="next()" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition" x-text="language === 'hi' ? '‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º‡•á‡§Ç' : 'Continue'"></button>
                        </div>
                    </div>
                </div>

                <div x-show="currentView === 'test' && currentSection().type === 'structure'" x-transition.opacity.duration.100 class="text-center max-w-4xl mx-auto">
                    <h2 class="text-2xl font-bold mb-4" x-text="currentSection().name"></h2>
                    <div class="p-6 border border-custom rounded-2xl bg-primary/20 mb-6 text-left">
                        <h3 class="font-bold" x-text="currentSection().question.title"></h3>
                        <p class="text-lg" x-text="currentSection().question.text"></p>
                    </div>
                     <p class="text-secondary mb-6" x-text="language === 'hi' ? '‡§á‡§∏ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§â‡§§‡•ç‡§§‡§∞ ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ (‡§™‡§∞‡§ø‡§ö‡§Ø, ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§≠‡§æ‡§ó, ‡§®‡§ø‡§∑‡•ç‡§ï‡§∞‡•ç‡§∑) ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§∏‡•ã‡§ö‡•á‡§Ç‡•§ ‡§ú‡§¨ ‡§Ü‡§™ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•ã‡§Ç, ‡§§‡•ã ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡•Ä‡§ö‡•á ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§' : 'Think about an ideal answer structure (Intro, Body, Conclusion) for this question. When you are ready, click below to see our ideal structure.'"></p>

                    <div x-data="{ showStructure: false }">
                        <button @click="showStructure = true" x-show="!showStructure" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition" x-text="language === 'hi' ? '‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ ‡§¶‡•á‡§ñ‡•á‡§Ç' : 'Show Ideal Structure'"></button>

                        <div x-show="showStructure" x-transition.opacity.duration.500 class="text-left p-6 border border-indigo-500/50 rounded-lg bg-indigo-500/10 mt-6 space-y-4">
                            <h3 class="text-xl font-bold text-center text-indigo-400" x-text="currentSection().idealStructure.title"></h3>
                            <div>
                                <h4 class="font-semibold" x-text="currentSection().idealStructure.intro.title"></h4>
                                <p class="text-secondary" x-text="currentSection().idealStructure.intro.text"></p>
                            </div>
                            <div>
                                <h4 class="font-semibold" x-text="currentSection().idealStructure.body.title"></h4>
                                <ul class="list-decimal list-inside text-secondary space-y-1">
                                    <template x-for="point in currentSection().idealStructure.body.points" :key="point">
                                        <li x-text="point"></li>
                                    </template>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold" x-text="currentSection().idealStructure.conclusion.title"></h4>
                                <p class="text-secondary" x-text="currentSection().idealStructure.conclusion.text"></p>
                            </div>
                        </div>

                        <div class="mt-8 text-center" x-show="showStructure">
                            <button @click="next()" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition" x-text="language === 'hi' ? '‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º‡•á‡§Ç' : 'Continue'"></button>
                        </div>
                    </div>
                </div>


                <div x-show="currentView === 'summary'" x-transition.opacity.duration.100 class="text-center">
                    <h2 class="text-3xl font-bold mb-4" x-text="`${activeSections[currentSectionIndex].name} ${language === 'hi' ? '‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü!' : 'Completed!'}`"></h2>
                    <template x-if="activeSections[currentSectionIndex].type === 'mcq' || activeSections[currentSectionIndex].type === 'mindset'">
                        <div>
                             <p class="text-lg text-secondary mb-2" x-text="language === 'hi' ? '‡§á‡§∏ ‡§∏‡•á‡§ï‡•ç‡§∂‡§® ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞:' : 'Your Score in this section:'"></p>
                             <p class="text-5xl font-bold text-indigo-400 mb-6" x-text="`${sectionScores[currentSectionIndex]} / ${activeSections[currentSectionIndex].questions.length}`"></p>
                        </div>
                    </template>
                    <p class="max-w-2xl mx-auto text-secondary mb-8" x-text="activeSections[currentSectionIndex].summaryMessage"></p>
                    <button @click="nextSection()" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition" x-text="isLastSection() ? (language === 'hi' ? '‡§∏‡§Æ‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§´‡§æ‡§á‡§®‡§≤ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§¶‡•á‡§ñ‡•á‡§Ç' : 'Finish & See Final Report') : (language === 'hi' ? '‡§Ö‡§ó‡§≤‡•á ‡§ü‡•á‡§∏‡•ç‡§ü ‡§™‡§∞ ‡§ú‡§æ‡§è‡§Ç' : 'Continue to Next Test')"></button>
                </div>

                <div x-show="currentView === 'report'" x-transition.opacity.duration.100 class="text-center">
                    <h2 class="text-3xl font-bold mb-4" x-text="language === 'hi' ? '‡§Ü‡§™‡§ï‡§æ ‡§µ‡•ç‡§Ø‡§æ‡§™‡§ï ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£' : 'Your Comprehensive Analysis'"></h2>
                     <div class="p-6 bg-secondary border border-custom rounded-lg text-left max-w-3xl mx-auto">
                         <div class="text-center mb-6 pb-4 border-b border-custom">
                             <p class="text-lg font-medium text-secondary" x-text="language === 'hi' ? '‡§ï‡•Å‡§≤ ‡§∏‡•ç‡§ï‡•ã‡§∞' : 'Overall Score'"></p>
                             <p class="font-bold text-4xl text-indigo-400" x-text="`${calculateTotalScore()} / ${totalQuestions}`"></p>
                             <p class="font-semibold text-xl mt-2" x-text="`${language === 'hi' ? '‡§Ü‡§™‡§ï‡•Ä ‡§è‡§∏‡•ç‡§™‡§ø‡§∞‡•á‡§Ç‡§ü ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤:' : 'Your Aspirant Profile:'} ${getProfile()}`"></p>
                         </div>
                         <div class="space-y-4">
                             <template x-for="feedback in getDetailedFeedback()" :key="feedback.title">
                                 <div class="p-3 bg-primary/20 rounded-md">
                                     <h4 class="font-semibold" x-text="feedback.title"></h4>
                                     <p class="text-sm text-secondary mb-1" x-show="feedback.type === 'mcq' || feedback.type === 'mindset'" x-text="`${language === 'hi' ? '‡§∏‡•ç‡§ï‡•ã‡§∞:' : 'Score:'} ${feedback.score} / ${feedback.total}`"></p>
                                     <p class="text-sm"><strong class="text-primary/80" x-text="language === 'hi' ? '‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£:' : 'Analysis:'"></strong> <span class="text-secondary" x-text="feedback.analysis"></span></p>
                                     <p class="text-sm"><strong class="text-indigo-400" x-text="language === 'hi' ? '‡§Ö‡§ó‡§≤‡§æ ‡§ï‡§¶‡§Æ:' : 'Next Step:'"></strong> <span class="text-secondary" x-text="feedback.nextStep"></span></p>
                                 </div>
                             </template>
                         </div>
                     </div>
                     <button @click="$dispatch('close-diagnostic')" class="mt-8 bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition" x-text="language === 'hi' ? '‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç' : 'Close'"></button>
                </div>
            </div>
        </div>
    </div>

    <div x-show="showExitMessage" 
         class="fixed inset-0 z-[110] flex items-center justify-center p-4 focus-overlay" 
         x-cloak 
         x-transition:enter="transition ease-out duration-300" 
         x-transition:enter-start="opacity-0" 
         x-transition:enter-end="opacity-100" 
         x-transition:leave="transition ease-in duration-200" 
         x-transition:leave-start="opacity-100" 
         x-transition:leave-end="opacity-0">
        
        <div @click.away="showExitMessage = false" 
             class="bg-secondary rounded-3xl shadow-custom-lg w-full max-w-sm text-center p-6 border-4 border-indigo-500 relative transform scale-100 transition-all duration-300"
             :class="{'breathing-glow': showExitMessage}"
             >
            <p class="text-lg font-semibold text-primary mb-5 whitespace-pre-line" x-html="exitMessageContent"></p>
            
            <button @click="showExitMessage = false" 
                class="mt-2 bg-indigo-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-indigo-700 transition text-sm">
                I Understand, Kal Milte Hain!
            </button>
            <p class="text-xs text-secondary mt-3">Thank you for visiting Testology.</p>
        </div>
    </div>
    <div x-show="showComingSoon" class="fixed inset-0 z-[100] flex items-center justify-center p-4" x-cloak>
        <div @click.away="showComingSoon = false" x-show="showComingSoon" x-transition class="bg-secondary rounded-3xl shadow-custom-lg w-full max-w-lg text-center p-8">
            <h2 class="text-2xl font-bold mb-4 gradient-text">Coming Soon!</h2>
            <p class="text-secondary" x-text="comingSoonMessage"></p>
            <button @click="showComingSoon = false" class="mt-6 bg-indigo-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-indigo-700 transition">Got it!</button>
        </div>
    </div>
    
    <button x-show="scrolledFromTop" @click="window.scrollTo({ top: 0, behavior: 'smooth' })" x-transition class="fixed bottom-8 right-8 bg-indigo-600 text-white p-3 rounded-full shadow-lg hover:bg-indigo-700 z-50">
        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>
    </button>
    
    <footer class="bg-secondary border-t border-custom relative z-10">
        <div class="container mx-auto px-6 py-8 text-center text-secondary">
             <p>&copy; 2025 Testology. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        // üåü GOOGLE SHEET URL - AB DATA YAHAN SE LOAD HOGA
        // Data fetch karne ke liye hum CSV output use karte hain
        const PRELIMS_SHEET_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vStDY-SBQBx93TiNy1SNbCJGzx2SBkEyW1vl2UsPj-rTthBOFRVesAoh50ZYsZTY6rZDgCr4q88LJDO/pub?output=csv&gid=0';

        function site() {
            return {
                themes: ['theme-light', 'theme-dark', 'theme-eye-care'],
                themeIcons: ['‚òÄÔ∏è', 'üåô', 'üëÅÔ∏è'],
                currentThemeIndex: 1,
                showDiagnostic: false,
                showComingSoon: false,
                comingSoonMessage: '',
                scrolledFromTop: false,
                showExitMessage: false,
                exitMessageContent: '',

                get focusMode() {
                    return this.showDiagnostic || this.showComingSoon || this.showExitMessage;
                },

                MOTIVATIONAL_QUOTES: [
                    "‡§Ü‡§™‡§ï‡•Ä ‡§¶‡•É‡§¢‡§º‡§§‡§æ ‡§Ö‡§¶‡•ç‡§≠‡•Å‡§§ ‡§π‡•à‡•§ ‡§Ü‡§ú ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§∏ ‡§á‡§§‡§®‡§æ ‡§π‡•Ä‡•§ **‡§ï‡§≤ ‡§´‡§ø‡§∞ ‡§Æ‡§ø‡§≤‡§§‡•á ‡§π‡•à‡§Ç**, ‡§Ö‡§™‡§®‡•Ä ‡§§‡•à‡§Ø‡§æ‡§∞‡•Ä ‡§ï‡•ã ‡§Ö‡§ó‡§≤‡•á ‡§∏‡•ç‡§§‡§∞ ‡§™‡§∞ ‡§≤‡•á ‡§ú‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è‡•§",
                    "‡§§‡•à‡§Ø‡§æ‡§∞‡•Ä ‡§è‡§ï ‡§Æ‡•à‡§∞‡§æ‡§•‡§® ‡§π‡•à, ‡§¶‡•å‡§°‡§º ‡§®‡§π‡•Ä‡§Ç‡•§ ‡§Ü‡§ú ‡§ï‡§æ ‡§¨‡•ç‡§∞‡•á‡§ï **‡§ï‡§≤ ‡§ï‡•Ä ‡§ó‡§§‡§ø** ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à‡•§ **We will meet again.**",
                    "The effort you put in today is always better than the regret of tomorrow. **Take a break, and we will catch up tomorrow.**",
                    "‡§ú‡•ç‡§û‡§æ‡§® ‡§ï‡•Ä ‡§∞‡§æ‡§π ‡§™‡§∞ ‡§ö‡§≤‡§§‡•á ‡§∞‡§π‡•á‡§Ç‡•§ **Don't lose your focus**‡•§ **‡§ï‡§≤ ‡§´‡§ø‡§∞ ‡§Æ‡§ø‡§≤‡•á‡§Ç‡§ó‡•á**, ‡§î‡§∞ ‡§è‡§ï ‡§®‡§Ø‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§π‡§≤ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§",
                    "‡§∏‡§´‡§≤‡§§‡§æ ‡§ï‡§æ ‡§∞‡§æ‡§∏‡•ç‡§§‡§æ ‡§π‡§∞ ‡§¶‡§ø‡§® ‡§§‡§Ø ‡§ï‡•Ä ‡§ó‡§à ‡§õ‡•ã‡§ü‡•Ä-‡§õ‡•ã‡§ü‡•Ä ‡§¶‡•Ç‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§¨‡§®‡§§‡§æ ‡§π‡•à‡•§ **We await your return.** Study well, **kal milte hain**.",
                    "‡§π‡§æ‡§∞ ‡§ï‡•á‡§µ‡§≤ ‡§è‡§ï ‡§Ö‡§≤‡•ç‡§™‡§µ‡§ø‡§∞‡§æ‡§Æ ‡§π‡•à, ‡§™‡•Ç‡§∞‡•ç‡§£‡§µ‡§ø‡§∞‡§æ‡§Æ ‡§®‡§π‡•Ä‡§Ç‡•§ **Keep writing your story.** We will meet again.",
                    "‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡•á‡§Ç, ‡§∏‡§¨‡§∏‡•á ‡§ï‡§†‡§ø‡§® ‡§∏‡§Ç‡§ò‡§∞‡•ç‡§∑ ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§π‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§∂‡§æ‡§®‡§¶‡§æ‡§∞ ‡§ú‡•Ä‡§§ ‡§Æ‡§ø‡§≤‡§§‡•Ä ‡§π‡•à‡•§ **A new challenge awaits you tomorrow!**",
                    "‡§ß‡•à‡§∞‡•ç‡§Ø ‡§∞‡§ñ‡•á‡§Ç, ‡§∞‡•ã‡§Æ ‡§è‡§ï ‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§®‡§π‡•Ä‡§Ç ‡§¨‡§®‡§æ ‡§•‡§æ, ‡§î‡§∞ ‡§Ü‡§™ ‡§è‡§ï ‡§ë‡§´‡§ø‡§∏‡§∞ ‡§¨‡§® ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ **Kal zaroor milenge**.",
                    "Discipline is the bridge between goals and accomplishment. **Come back soon** for your next test, **kal phir milenge!**",
                    "‡§∏‡§™‡§®‡§æ ‡§µ‡§π ‡§®‡§π‡•Ä‡§Ç ‡§ú‡•ã ‡§Ü‡§™ ‡§®‡•Ä‡§Ç‡§¶ ‡§Æ‡•á‡§Ç ‡§¶‡•á‡§ñ‡•á‡§Ç, ‡§∏‡§™‡§®‡§æ ‡§µ‡§π ‡§π‡•à ‡§ú‡•ã ‡§Ü‡§™‡§ï‡•ã ‡§∏‡•ã‡§®‡•á ‡§® ‡§¶‡•á‡•§ **We will see you tomorrow.**",
                    "‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡•Ä ‡§™‡•ç‡§∞‡•á‡§∞‡§£‡§æ ‡§Ü‡§™‡§ï‡•á ‡§Ö‡§Ç‡§¶‡§∞ ‡§π‡•à‡•§ ‡§â‡§∏‡•á ‡§ú‡§ó‡§æ‡§ì! **The quiet consistency always beats the loud intensity.**",
                    "The best way to predict the future is to create it. **Rest your mind**, and come back energized. **Kal milenge!**",
                    "‡§§‡•à‡§Ø‡§æ‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§≤‡§ó‡§æ ‡§π‡§∞ ‡§ò‡§Ç‡§ü‡§æ, ‡§∏‡•á‡§µ‡§æ ‡§Æ‡•á‡§Ç ‡§¨‡§ø‡§§‡§æ‡§è ‡§µ‡§∞‡•ç‡§∑‡•ã‡§Ç ‡§ï‡§æ ‡§Ü‡§ß‡§æ‡§∞ ‡§π‡•à‡•§ **Your journey continues. Kal phir milenge!**",
                    "‡§ú‡§¨ ‡§Ü‡§™ ‡§•‡§ï ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡§¨ ‡§®‡§π‡•Ä‡§Ç, ‡§ú‡§¨ ‡§Ü‡§™ ‡§ï‡§∞ ‡§≤‡•á‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡§¨ ‡§∞‡•Å‡§ï‡•á‡§Ç‡•§ **Don't stop when you are tired. See you soon!**"
                ],
                
                get theme() { return this.themes[this.currentThemeIndex]; },
                toggleTheme() { this.currentThemeIndex = (this.currentThemeIndex + 1) % this.themes.length; },
                
                showComingSoonModal(type) {
                    if (type === 'MCQ Zone' || type === 'NCERT Test') {
                        this.comingSoonMessage = "‡§Ø‡§π ‡§´‡•Ä‡§ö‡§∞ ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§Ü ‡§∞‡§π‡§æ ‡§π‡•à! ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û ‡§ü‡•Ä‡§Æ ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡§ú‡§º‡§æ‡§∞‡•ã‡§Ç ‡§â‡§ö‡•ç‡§ö-‡§ó‡•Å‡§£‡§µ‡§§‡•ç‡§§‡§æ ‡§µ‡§æ‡§≤‡•á ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡•ã‡§Ç ‡§ï‡§æ ‡§è‡§ï ‡§µ‡§ø‡§∂‡§æ‡§≤ ‡§¨‡•à‡§Ç‡§ï ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§ï‡§∞ ‡§∞‡§π‡•Ä ‡§π‡•à...";
                    } else if (type === 'Doubt Hub') {
                        this.comingSoonMessage = "‡§π‡§Æ‡§æ‡§∞‡•á ‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û ‡§Ü‡§™‡§ï‡•á ‡§∏‡§Ç‡§¶‡•á‡§π‡•ã‡§Ç ‡§ï‡§æ ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡•á‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•ã ‡§∞‡§π‡•á ‡§π‡•à‡§Ç! ‡§Ø‡§π ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§≤‡•â‡§®‡•ç‡§ö ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...";
                    }
                    this.showComingSoon = true;
                },

                handleExitIntent(e) {
                    if (e.clientY < 20 && !this.showExitMessage && !this.showDiagnostic && !this.showComingSoon) {
                        const quotes = this.MOTIVATIONAL_QUOTES;
                        const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                        
                        this.exitMessageContent = randomQuote;
                        this.showExitMessage = true;

                        document.removeEventListener('mouseout', this.handleExitIntentBound);  
                    }
                },

                init() {
                    window.addEventListener('scroll', () => { this.scrolledFromTop = window.scrollY > 200; });
                    this.$nextTick(() => {
                        const cards = document.querySelectorAll('.content-card');
                        cards.forEach((card, index) => {
                            if (index % 2 === 0) card.classList.add('float-in-left');
                            else card.classList.add('float-in-right');
                        });
                        const observer = new IntersectionObserver((entries) => {
                            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('is-visible'); });
                        }, { threshold: 0.1 });
                        cards.forEach(card => observer.observe(card));
                    });
                    
                    this.handleExitIntentBound = this.handleExitIntent.bind(this);
                    document.addEventListener('mouseout', this.handleExitIntentBound);
                }
            }
        }
        
        function diagnosticTest() {
            return {
                currentView: 'languageSelection', // 'languageSelection', 'overview', 'test', 'summary', 'report'
                language: 'en', // 'en' or 'hi'
                currentSectionIndex: 0,
                currentQuestionIndex: 0,
                sectionScores: [],
                
                sections: {
                    en: [
                        {  
                            type: 'mindset',
                            name: 'Test 1: UPSC Mindset Test',  
                            icon: 'üß†',  
                            description: 'This test will assess your Mindset, Patience, and Motivation.',
                            summaryMessage: "Excellent! Mental fortitude is the first step to success. Your mindset is your greatest asset.",  
                            questions: [
                                { question: 'Do you have a very strong reason to become a Civil Servant, which goes beyond just \'Power\', \'Prestige\', or \'Social Status\'?', options: ['Yes', 'No'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: 'Can you follow a routine of 6-8 hours of self-study daily for the next 365 days, without any external pressure?', options: ['Yes', 'No'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: 'If you don\'t succeed in your first attempt, will you learn from your mistakes and prepare again with double the effort?', options: ['Yes', 'No'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: 'This journey is often lonely. Are you prepared for this solitude?', options: ['Yes', 'No'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: 'When relatives or friends doubt your abilities, can you turn it into your motivation?', options: ['Yes', 'No'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: 'Are you ready to accept your mistakes and improve yourself based on feedback?', options: ['Yes', 'No'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: 'Do you know any strategy to manage failure, stress, and pressure?', options: ['Yes', 'No'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: 'Are you willing to voluntarily limit your social life, hobbies, and entertainment for the next 1-2 years?', options: ['Yes', 'No'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: 'When you study a topic, do questions like \'why\', \'how\', and \'what will be the impact\' naturally arise in your mind?', options: ['Yes', 'No'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: 'Do you have the ability to study consistently for 7 hours every day (instead of 14 hours for 2 days and then a 4-day break)?', options: ['Yes', 'No'], correctAnswerIndex: 0, selectedAnswerIndex: null }
                            ]  
                        },
                        {  
                            type: 'litmus',
                            name: 'Test 2: Newspaper Litmus Test',  
                            icon: 'üì∞',  
                            description: 'This will test whether you see news like a common citizen or an IAS Aspirant.',
                            summaryMessage: "Self-reflection is key. Analyzing how you think is more important than scoring points.",
                            article: {
                                headline: "Supreme Court declares Electoral Bonds scheme unconstitutional, citing Transparency as the foundation of Democracy.",
                                citizenView: {
                                    title: "A Common Citizen's View:",
                                    points: [
                                        "Wow! The Supreme Court did a great job.",
                                        "Now politicians won't get black money.",
                                        "This is a big defeat for the government."
                                    ]
                                },
                                aspirantView: {
                                    title: "An IAS Aspirant's View (Multi-dimensional):",
                                    points: [
                                        "Prelims Facts: Links to Article 19(1)(a) - Right to Know, Judicial Review.",
                                        "Mains GS-2: Great example for 'Transparency in Governance' & 'Electoral Reforms'.",
                                        "Mains GS-4 (Ethics): Raises questions on Probity, Ethics vs. Law, and Corporate Governance.",
                                        "Overall Analysis: A clash between legislature and judiciary, impact on all stakeholders (parties, ECI, citizens)."
                                    ]
                                }
                            },
                            questions: []
                        },
                        {  
                            type: 'mcq',
                            name: 'Test 3: NCERT Foundation Quiz',  
                            icon: 'üìö',  
                            description: 'This test will check how strong your NCERT basics are.',
                            summaryMessage: "Great! Your foundation is strong. Now it's time to build the rest of the structure.",  
                            questions: [  
                                { question: 'In which script were most of Ashoka\'s inscriptions written?', options: ['(A) Sanskrit', '(B) Prakrit', '(C) Brahmi', '(D) Kharosthi'], correctAnswerIndex: 2, selectedAnswerIndex: null },
                                { question: 'Which layer beneath the Earth\'s crust is made of molten rocks on which the plates float?', options: ['(A) Core', '(B) Mantle', '(C) Outer Crust', '(D) Lithosphere'], correctAnswerIndex: 1, selectedAnswerIndex: null },
                                { question: 'Which part of the Indian Constitution is called the \'Soul of the Constitution\' but is not legally enforceable?', options: ['(A) Fundamental Rights', '(B) Preamble', '(C) Fundamental Duties', '(D) DPSP'], correctAnswerIndex: 1, selectedAnswerIndex: null },
                            ]  
                        },
                        {  
                            type: 'mcq',
                            name: 'Test 4: PYQs Challenge',  
                            icon: 'üéØ',  
                            description: 'This challenge will test your art of elimination.',
                            summaryMessage: "Very good! You are starting to understand the pattern of the exam.",  
                            questions: [  
                                { question: '(UPSC PYQ) In essence, what does \'Due Process of Law\' mean?', options: ['(A) The principle of natural justice', '(B) The procedure established by law', '(C) Fair application of law', '(D) Equality before law'], correctAnswerIndex: 2, selectedAnswerIndex: null },
                            ]  
                        },
                        {  
                            type: 'structure',
                            name: 'Test 5: The First Step of Answer Writing',  
                            icon: '‚úçÔ∏è',  
                            description: 'This test will assess your ability to create a top-scoring answer structure.',
                            summaryMessage: "This is a crucial skill. Keep practicing to master it.",  
                            question: {
                                title: 'Question (GS-2, 150 words):',
                                text: 'How have the steps taken under the "Digital India Program" helped in the empowerment of citizens? Discuss.'
                            },
                            idealStructure: {
                                title: "Testology's Ideal Structure",
                                intro: {
                                    title: "1. Introduction (2 lines):",
                                    text: "Define the Digital India Mission + its objective (e.g., access to Govt services)."
                                },
                                body: {
                                    title: "2. Body (Empowerment Points):",
                                    points: [
                                        "Transparency: DBT stopping leakages.",
                                        "Financial Inclusion: Jan-Dhan + Aadhaar + Mobile (JAM) trinity.",
                                        "Access: Common Service Centers (CSC) + UMANG App.",
                                        "Education/Health: DIKSHA portal + Telemedicine.",
                                        "Accountability: Online Grievance Redressal."
                                    ]
                                },
                                conclusion: {
                                    title: "3. Conclusion (Forward-looking):",
                                    text: "Acknowledge the challenge of the 'digital divide' while emphasizing the future of 'Technology for Transformation'."
                                }
                            },
                            questions: []
                        },
                    ],
                    hi: [
                        {  
                            type: 'mindset',
                            name: '‡§ü‡•á‡§∏‡•ç‡§ü 1: UPSC ‡§Æ‡§æ‡§á‡§Ç‡§°‡§∏‡•á‡§ü ‡§ü‡•á‡§∏‡•ç‡§ü',  
                            icon: 'üß†',  
                            description: '‡§Ø‡§π ‡§ü‡•á‡§∏‡•ç‡§ü ‡§Ü‡§™‡§ï‡•á Mindset, ‡§ß‡•à‡§∞‡•ç‡§Ø ‡§î‡§∞ Motivation ‡§ï‡•ã ‡§™‡§∞‡§ñ‡•á‡§ó‡§æ‡•§',
                            summaryMessage: "‡§¨‡§π‡•Å‡§§ ‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ! ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§¶‡•É‡§¢‡§º‡§§‡§æ ‡§∏‡§´‡§≤‡§§‡§æ ‡§ï‡•Ä ‡§™‡§π‡§≤‡•Ä ‡§∏‡•Ä‡§¢‡§º‡•Ä ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡§æ ‡§Æ‡§æ‡§á‡§Ç‡§°‡§∏‡•á‡§ü ‡§π‡•Ä ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡•Ä ‡§§‡§æ‡§ï‡§§ ‡§π‡•à‡•§",  
                            questions: [
                                { question: '‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§ï‡•á ‡§™‡§æ‡§∏ Civil Servant ‡§¨‡§®‡§®‡•á ‡§ï‡§æ ‡§ï‡•ã‡§à ‡§è‡§ï ‡§¨‡§π‡•Å‡§§ ‡§Æ‡§ú‡§º‡§¨‡•Ç‡§§ ‡§ï‡§æ‡§∞‡§£ ‡§π‡•à, ‡§ú‡•ã ‡§∏‡§ø‡§∞‡•ç‡§´ \'Power\', \'Prestige\' ‡§Ø‡§æ \'Social Status\' ‡§∏‡•á ‡§¨‡§¢‡§º‡§ï‡§∞ ‡§π‡•ã?', options: ['‡§π‡§æ‡§Å', '‡§®‡§π‡•Ä‡§Ç'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: '‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ö‡§ó‡§≤‡•á 365 ‡§¶‡§ø‡§®, ‡§¨‡§ø‡§®‡§æ ‡§ï‡§ø‡§∏‡•Ä ‡§¨‡§æ‡§π‡§∞‡•Ä ‡§¶‡§¨‡§æ‡§µ ‡§ï‡•á, ‡§∞‡•ã‡§ú‡§º 6-8 ‡§ò‡§Ç‡§ü‡•á ‡§ï‡•Ä self-study ‡§ï‡§æ routine follow ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç?', options: ['‡§π‡§æ‡§Å', '‡§®‡§π‡•Ä‡§Ç'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: '‡§Ö‡§ó‡§∞ ‡§Ü‡§™‡§ï‡•ã ‡§™‡§π‡§≤‡•á ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§Æ‡•á‡§Ç ‡§∏‡§´‡§≤‡§§‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä, ‡§§‡•ã ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ö‡§™‡§®‡•Ä ‡§ó‡§≤‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§∏‡•Ä‡§ñ‡§ï‡§∞ ‡§¶‡•ã‡§ó‡•Å‡§®‡•Ä ‡§Æ‡•á‡§π‡§®‡§§ ‡§∏‡•á ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§§‡•à‡§Ø‡§æ‡§∞‡•Ä ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á?', options: ['‡§π‡§æ‡§Å', '‡§®‡§π‡•Ä‡§Ç'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: '‡§Ø‡§π ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§Ö‡§ï‡•ç‡§∏‡§∞ ‡§Ö‡§ï‡•á‡§≤‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§á‡§∏ ‡§Ö‡§ï‡•á‡§≤‡•á‡§™‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à‡§Ç?', options: ['‡§π‡§æ‡§Å', '‡§®‡§π‡•Ä‡§Ç'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: 'When relatives or friends doubt your abilities, can you turn it into your motivation?', options: ['‡§π‡§æ‡§Å', '‡§®‡§π‡•Ä‡§Ç'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: '‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ö‡§™‡§®‡•Ä ‡§ó‡§≤‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§∞‡§®‡•á ‡§î‡§∞ feedback ‡§≤‡•á‡§ï‡§∞ ‡§ñ‡•Å‡§¶ ‡§ï‡•ã ‡§∏‡•Å‡§ß‡§æ‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à‡§Ç?', options: ['‡§π‡§æ‡§Å', '‡§®‡§π‡•Ä‡§Ç'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: '‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ö‡§∏‡§´‡§≤‡§§‡§æ, ‡§§‡§®‡§æ‡§µ ‡§î‡§∞ ‡§¶‡§¨‡§æ‡§µ ‡§ï‡•ã manage ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ã‡§à ‡§∞‡§£‡§®‡•Ä‡§§‡§ø ‡§ú‡§æ‡§®‡§§‡•á ‡§π‡•à‡§Ç?', options: ['‡§π‡§æ‡§Å', '‡§®‡§π‡•Ä‡§Ç'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: '‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ö‡§ó‡§≤‡•á 1-2 ‡§∏‡§æ‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§™‡§®‡•Ä social life, hobbies ‡§î‡§∞ ‡§Æ‡§®‡•ã‡§∞‡§Ç‡§ú‡§® ‡§ï‡•ã ‡§∏‡•ç‡§µ‡•á‡§ö‡•ç‡§õ‡§æ ‡§∏‡•á ‡§∏‡•Ä‡§Æ‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à‡§Ç?', options: ['‡§π‡§æ‡§Å', '‡§®‡§π‡•Ä‡§Ç'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: '‡§ú‡§¨ ‡§Ü‡§™ ‡§ï‡•ã‡§à ‡§ü‡•â‡§™‡§ø‡§ï ‡§™‡§¢‡§º‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§ï‡•á ‡§Æ‡§® ‡§Æ‡•á‡§Ç \'‡§ï‡•ç‡§Ø‡•ã‡§Ç\', \'‡§ï‡•à‡§∏‡•á\', \'‡§ï‡•ç‡§Ø‡§æ ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ ‡§™‡§°‡§º‡•á‡§ó‡§æ\' ‡§ú‡•à‡§∏‡•á ‡§∏‡§µ‡§æ‡§≤ ‡§∏‡•ç‡§µ‡§æ‡§≠‡§æ‡§µ‡§ø‡§ï ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§â‡§†‡§§‡•á ‡§π‡•à‡§Ç?', options: ['‡§π‡§æ‡§Å', '‡§®‡§π‡•Ä‡§Ç'], correctAnswerIndex: 0, selectedAnswerIndex: null },
                                { question: '‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§∞‡•ã‡§ú‡§º ‡§≤‡§ó‡§æ‡§§‡§æ‡§∞ 7 ‡§ò‡§Ç‡§ü‡•á ‡§™‡§¢‡§º‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§∞‡§ñ‡§§‡•á ‡§π‡•à‡§Ç (‡§¨‡§ú‡§æ‡§Ø 2 ‡§¶‡§ø‡§® 14 ‡§ò‡§Ç‡§ü‡•á ‡§î‡§∞ 4 ‡§¶‡§ø‡§® ‡§õ‡•Å‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•á)?', options: ['‡§π‡§æ‡§Å', '‡§®‡§π‡•Ä‡§Ç'], correctAnswerIndex: 0, selectedAnswerIndex: null }
                            ]  
                        },
                        {  
                            type: 'litmus',
                            name: '‡§ü‡•á‡§∏‡•ç‡§ü 2: ‡§Ö‡§ñ‡§¨‡§æ‡§∞ ‡§™‡§¢‡§º‡§®‡•á ‡§ï‡§æ ‡§≤‡§ø‡§ü‡§Æ‡§∏ ‡§ü‡•á‡§∏‡•ç‡§ü',  
                            icon: 'üì∞',  
                            description: '‡§Ø‡§π ‡§™‡§∞‡§ñ‡•á‡§ó‡§æ ‡§ï‡§ø ‡§Ü‡§™ ‡§è‡§ï ‡§ñ‡§¨‡§∞ ‡§ï‡•ã ‡§è‡§ï ‡§Ü‡§Æ ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï ‡§ï‡•Ä ‡§§‡§∞‡§π ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç ‡§Ø‡§æ ‡§è‡§ï IAS Aspirant ‡§ï‡•Ä ‡§§‡§∞‡§π‡•§',
                            summaryMessage: "‡§Ü‡§§‡•ç‡§Æ-‡§ö‡§ø‡§Ç‡§§‡§® ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡•§ ‡§Ü‡§™ ‡§ï‡•à‡§∏‡•á ‡§∏‡•ã‡§ö‡§§‡•á ‡§π‡•à‡§Ç ‡§á‡§∏‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡§®‡§æ ‡§Ö‡§Ç‡§ï ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡•§",
                            article: {
                                headline: "‡§∏‡•Å‡§™‡•ç‡§∞‡•Ä‡§Æ ‡§ï‡•ã‡§∞‡•ç‡§ü ‡§®‡•á ‡§ö‡•Å‡§®‡§æ‡§µ‡•Ä ‡§¨‡•â‡§®‡•ç‡§° ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§ï‡•ã ‡§Ö‡§∏‡§Ç‡§µ‡•à‡§ß‡§æ‡§®‡§ø‡§ï ‡§ò‡•ã‡§∑‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ, ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§‡§æ ‡§ï‡•ã ‡§¨‡§§‡§æ‡§Ø‡§æ ‡§≤‡•ã‡§ï‡§§‡§Ç‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§Ü‡§ß‡§æ‡§∞‡•§",
                                citizenView: {
                                    title: "‡§è‡§ï ‡§Ü‡§Æ ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï ‡§ï‡§æ ‡§®‡§ú‡§∞‡§ø‡§Ø‡§æ:",
                                    points: [
                                        "‡§Ö‡§∞‡•á ‡§µ‡§æ‡§π! ‡§∏‡•Å‡§™‡•ç‡§∞‡•Ä‡§Æ ‡§ï‡•ã‡§∞‡•ç‡§ü ‡§®‡•á ‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§ï‡§æ‡§Æ ‡§ï‡§ø‡§Ø‡§æ‡•§",
                                        "‡§Ö‡§¨ ‡§®‡•á‡§§‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§ï‡§æ‡§≤‡§æ ‡§ß‡§® ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ‡•§",
                                        "‡§Ø‡§π ‡§∏‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•Ä ‡§¨‡§π‡•Å‡§§ ‡§¨‡§°‡§º‡•Ä ‡§π‡§æ‡§∞ ‡§π‡•à‡•§"
                                    ]
                                },
                                aspirantView: {
                                    title: "‡§è‡§ï IAS Aspirant ‡§ï‡§æ ‡§®‡§ú‡§∞‡§ø‡§Ø‡§æ (‡§¨‡§π‡•Å-‡§Ü‡§Ø‡§æ‡§Æ‡•Ä):",
                                    points: [
                                        "‡§™‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Æ‡•ç‡§∏ ‡§ï‡•á ‡§§‡§•‡•ç‡§Ø: ‡§Ö‡§®‡•Å‡§ö‡•ç‡§õ‡•á‡§¶ 19(1)(a) - ‡§ú‡§æ‡§®‡§®‡•á ‡§ï‡§æ ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞, ‡§®‡•ç‡§Ø‡§æ‡§Ø‡§ø‡§ï ‡§∏‡§Æ‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§∏‡•á ‡§≤‡§ø‡§Ç‡§ï‡•§",
                                        "‡§Æ‡•á‡§®‡•ç‡§∏ GS-2: '‡§∂‡§æ‡§∏‡§® ‡§Æ‡•á‡§Ç ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§‡§æ' ‡§î‡§∞ '‡§ö‡•Å‡§®‡§æ‡§µ ‡§∏‡•Å‡§ß‡§æ‡§∞' ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡•á‡§π‡§§‡§∞‡•Ä‡§® ‡§â‡§¶‡§æ‡§π‡§∞‡§£‡•§",
                                        "‡§Æ‡•á‡§®‡•ç‡§∏ GS-4 (‡§è‡§•‡§ø‡§ï‡•ç‡§∏): ‡§∏‡§§‡•ç‡§Ø‡§®‡§ø‡§∑‡•ç‡§†‡§æ, ‡§ï‡§æ‡§®‡•Ç‡§® ‡§¨‡§®‡§æ‡§Æ ‡§®‡•à‡§§‡§ø‡§ï‡§§‡§æ, ‡§î‡§∞ ‡§ï‡•â‡§∞‡•ç‡§™‡•ã‡§∞‡•á‡§ü ‡§ó‡§µ‡§∞‡•ç‡§®‡•á‡§Ç‡§∏ ‡§™‡§∞ ‡§∏‡§µ‡§æ‡§≤ ‡§â‡§†‡§æ‡§§‡§æ ‡§π‡•à‡•§",
                                        "‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£: ‡§µ‡§ø‡§ß‡§æ‡§Ø‡§ø‡§ï‡§æ ‡§î‡§∞ ‡§®‡•ç‡§Ø‡§æ‡§Ø‡§™‡§æ‡§≤‡§ø‡§ï‡§æ ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§ü‡§ï‡§∞‡§æ‡§µ, ‡§∏‡§≠‡•Ä ‡§π‡§ø‡§§‡§ß‡§æ‡§∞‡§ï‡•ã‡§Ç (‡§¶‡§≤, ECI, ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï) ‡§™‡§∞ ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡•§"
                                    ]
                                }
                            },
                            questions: []
                        },
                        {  
                            type: 'mcq',
                            name: '‡§ü‡•á‡§∏‡•ç‡§ü 3: NCERT ‡§´‡§æ‡§â‡§Ç‡§°‡•á‡§∂‡§® ‡§ï‡•ç‡§µ‡§ø‡§ú',  
                            icon: 'üìö',  
                            description: '‡§Ø‡§π ‡§ü‡•á‡§∏‡•ç‡§ü ‡§ú‡§æ‡§Ç‡§ö‡•á‡§ó‡§æ ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•á NCERT ‡§ï‡•á ‡§¨‡•á‡§∏‡§ø‡§ï‡•ç‡§∏ ‡§ï‡§ø‡§§‡§®‡•á ‡§Æ‡§ú‡§º‡§¨‡•Ç‡§§ ‡§π‡•à‡§Ç‡•§',
                            summaryMessage: "‡§∂‡§æ‡§®‡§¶‡§æ‡§∞! ‡§Ü‡§™‡§ï‡•Ä ‡§®‡•Ä‡§Ç‡§µ ‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§π‡•à‡•§ ‡§Ö‡§¨ ‡§¨‡§∏ ‡§á‡§Æ‡§æ‡§∞‡§§ ‡§ñ‡§°‡§º‡•Ä ‡§ï‡§∞‡§®‡•Ä ‡§π‡•à‡•§",  
                            questions: [  
                                { question: '‡§Ö‡§∂‡•ã‡§ï ‡§ï‡•á ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§Ç‡§∂ ‡§Ö‡§≠‡§ø‡§≤‡•á‡§ñ (Inscriptions) ‡§ï‡§ø‡§∏ ‡§≤‡§ø‡§™‡§ø (Script) ‡§Æ‡•á‡§Ç ‡§≤‡§ø‡§ñ‡•á ‡§ó‡§è ‡§•‡•á?', options: ['(A) ‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§', '(B) ‡§™‡•ç‡§∞‡§æ‡§ï‡•É‡§§', '(C) ‡§¨‡•ç‡§∞‡§æ‡§π‡•ç‡§Æ‡•Ä', '(D) ‡§ñ‡§∞‡•ã‡§∑‡•ç‡§†‡•Ä'], correctAnswerIndex: 2, selectedAnswerIndex: null },
                                { question: '‡§™‡•É‡§•‡•ç‡§µ‡•Ä ‡§ï‡•á ‡§ï‡•ç‡§∞‡§∏‡•ç‡§ü (Crust) ‡§ï‡•á ‡§®‡•Ä‡§ö‡•á ‡§µ‡§π ‡§™‡§∞‡§§ ‡§ï‡•å‡§® ‡§∏‡•Ä ‡§π‡•à ‡§ú‡•ã ‡§™‡§ø‡§ò‡§≤‡•Ä ‡§π‡•Å‡§à ‡§ö‡§ü‡•ç‡§ü‡§æ‡§®‡•ã‡§Ç (Molten Rocks) ‡§∏‡•á ‡§¨‡§®‡•Ä ‡§π‡•à?', options: ['(A) ‡§ï‡•ã‡§∞ (Core)', '(B) ‡§Æ‡•á‡§Ç‡§ü‡§≤ (Mantle)', '(C) ‡§¨‡§æ‡§π‡•ç‡§Ø ‡§ï‡•ç‡§∞‡§∏‡•ç‡§ü (Outer Crust)', '(D) ‡§∏‡•ç‡§•‡§≤‡§Æ‡§Ç‡§°‡§≤ (Lithosphere)'], correctAnswerIndex: 1, selectedAnswerIndex: null },
                                { question: '‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡§æ ‡§µ‡§π ‡§ï‡•å‡§® ‡§∏‡§æ ‡§≠‡§æ‡§ó ‡§π‡•à, ‡§ú‡§ø‡§∏‡•á \'‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡•Ä ‡§Ü‡§§‡•ç‡§Æ‡§æ\' ‡§ï‡§π‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ø‡§π ‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡§®‡•á ‡§Ø‡•ã‡§ó‡•ç‡§Ø (Enforceable) ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à?', options: ['(A) ‡§Æ‡•å‡§≤‡§ø‡§ï ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞', '(B) ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡§æ‡§µ‡§®‡§æ (Preamble)', '(C) ‡§Æ‡•å‡§≤‡§ø‡§ï ‡§ï‡§∞‡•ç‡§§‡§µ‡•ç‡§Ø', '(D) ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡§ï ‡§∏‡§ø‡§¶‡•ç‡§ß‡§æ‡§Ç‡§§ (DPSP)'], correctAnswerIndex: 1, selectedAnswerIndex: null },
                            ]  
                        },
                        {  
                            type: 'mcq',
                            name: 'Test 4: PYQs Challenge',  
                            icon: 'üéØ',  
                            description: '‡§Ø‡§π ‡§ö‡•à‡§≤‡•á‡§Ç‡§ú ‡§Ü‡§™‡§ï‡•Ä ‡§è‡§≤‡§ø‡§Æ‡§ø‡§®‡•á‡§∂‡§® ‡§ï‡•Ä ‡§ï‡§≤‡§æ ‡§ï‡•ã ‡§ú‡§æ‡§Å‡§ö‡•á‡§ó‡§æ‡•§',
                            summaryMessage: "‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ö‡•ç‡§õ‡•á! ‡§Ü‡§™ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§™‡•à‡§ü‡§∞‡•ç‡§® ‡§ï‡•ã ‡§∏‡§Æ‡§ù‡§®‡•á ‡§≤‡§ó‡•á ‡§π‡•à‡§Ç‡•§",  
                            questions: [  
                                { question: '(UPSC PYQ) \'‡§µ‡§ø‡§ß‡§ø ‡§ï‡•Ä ‡§∏‡§Æ‡•ç‡§Ø‡§ï ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ\' (Due Process of Law) ‡§ï‡§æ ‡§∏‡§æ‡§∞ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?', options: ['(A) ‡§™‡•ç‡§∞‡§æ‡§ï‡•É‡§§‡§ø‡§ï ‡§®‡•ç‡§Ø‡§æ‡§Ø ‡§ï‡§æ ‡§∏‡§ø‡§¶‡•ç‡§ß‡§æ‡§Ç‡§§', '(B) ‡§µ‡§ø‡§ß‡§ø ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ', '(C) ‡§µ‡§ø‡§ß‡§ø ‡§ï‡§æ ‡§®‡§ø‡§∑‡•ç‡§™‡§ï‡•ç‡§∑ ‡§Ö‡§®‡•Å‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó', '(D) ‡§µ‡§ø‡§ß‡§ø ‡§ï‡•á ‡§∏‡§Æ‡§ï‡•ç‡§∑ ‡§∏‡§Æ‡§æ‡§®‡§§‡§æ'], correctAnswerIndex: 2, selectedAnswerIndex: null },
                            ]  
                        },
                        {  
                            type: 'structure',
                            name: '‡§ü‡•á‡§∏‡•ç‡§ü 5: ‡§â‡§§‡•ç‡§§‡§∞ ‡§≤‡•á‡§ñ‡§® ‡§ï‡•Ä ‡§™‡§π‡§≤‡•Ä ‡§∏‡•Ä‡§¢‡§º‡•Ä',  
                            icon: '‚úçÔ∏è',  
                            description: '‡§Ø‡§π ‡§ü‡•á‡§∏‡•ç‡§ü ‡§è‡§ï ‡§ü‡•â‡§™-‡§∏‡•ç‡§ï‡•ã‡§∞‡§ø‡§Ç‡§ó ‡§â‡§§‡•ç‡§§‡§∞ ‡§ï‡•Ä ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§ï‡•ã ‡§™‡§∞‡§ñ‡•á‡§ó‡§æ‡•§',
                            summaryMessage: "‡§Ø‡§π ‡§è‡§ï ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ï‡•å‡§∂‡§≤ ‡§π‡•à‡•§ ‡§á‡§∏‡§Æ‡•á‡§Ç ‡§Æ‡§π‡§æ‡§∞‡§§ ‡§π‡§æ‡§∏‡§ø‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡§§‡•á ‡§∞‡§π‡•á‡§Ç‡•§",  
                            question: {
                                title: '‡§™‡•ç‡§∞‡§∂‡•ç‡§® (GS-2, 150 ‡§∂‡§¨‡•ç‡§¶):',
                                text: '"‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§á‡§Ç‡§°‡§ø‡§Ø‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ" ‡§ï‡•á ‡§§‡§π‡§§ ‡§â‡§†‡§æ‡§è ‡§ó‡§è ‡§ï‡§¶‡§Æ‡•ã‡§Ç ‡§®‡•á ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§∂‡§ï‡•ç‡§§‡§ø‡§ï‡§∞‡§£ ‡§Æ‡•á‡§Ç ‡§ï‡•à‡§∏‡•á ‡§Æ‡§¶‡§¶ ‡§ï‡•Ä ‡§π‡•à? ‡§ö‡§∞‡•ç‡§ö‡§æ ‡§ï‡•Ä‡§ú‡§ø‡§è‡•§'
                            },
                            idealStructure: {
                                title: "Testology ‡§ï‡•Ä ‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ",
                                intro: {
                                    title: "1. ‡§™‡§∞‡§ø‡§ö‡§Ø (2 ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø‡§Ø‡§æ‡§Å):",
                                    text: "‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§á‡§Ç‡§°‡§ø‡§Ø‡§æ ‡§Æ‡§ø‡§∂‡§® ‡§ï‡•ã ‡§™‡§∞‡§ø‡§≠‡§æ‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç + ‡§á‡§∏‡§ï‡§æ ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø (‡§ú‡•à‡§∏‡•á - ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ‡§ì‡§Ç ‡§§‡§ï ‡§™‡§π‡•Å‡§Å‡§ö) ‡§¨‡§§‡§æ‡§è‡§Ç‡•§"
                                },
                                body: {
                                    title: "2. ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§≠‡§æ‡§ó (‡§∏‡§∂‡§ï‡•ç‡§§‡§ø‡§ï‡§∞‡§£ ‡§ï‡•á ‡§¨‡§ø‡§Ç‡§¶‡•Å):",
                                    points: [
                                        "‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§‡§æ: ‡§°‡•Ä‡§¨‡•Ä‡§ü‡•Ä (DBT) ‡§∏‡•á ‡§≤‡•Ä‡§ï‡•á‡§ú ‡§¨‡§Ç‡§¶‡•§",
                                        "‡§µ‡§ø‡§§‡•ç‡§§‡•Ä‡§Ø ‡§∏‡§Æ‡§æ‡§µ‡•á‡§∂‡§®: ‡§ú‡§®-‡§ß‡§® + ‡§Ü‡§ß‡§æ‡§∞ + ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ (JAM) ‡§ü‡•ç‡§∞‡§ø‡§®‡§ø‡§ü‡•Ä‡•§",
                                        "‡§™‡§π‡•Å‡§Å‡§ö: ‡§ï‡•â‡§Æ‡§® ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§∏‡•á‡§Ç‡§ü‡§∞ (CSC) + ‡§â‡§Æ‡§Ç‡§ó (UMANG) ‡§ê‡§™‡•§",
                                        "‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ/‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø: ‡§¶‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ + ‡§ü‡•á‡§≤‡•Ä‡§Æ‡•á‡§°‡§ø‡§∏‡§ø‡§®‡•§",
                                        "‡§ú‡§µ‡§æ‡§¨‡§¶‡•á‡§π‡•Ä: ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§®‡§ø‡§µ‡§æ‡§∞‡§£‡•§"
                                    ]
                                },
                                conclusion: {
                                    title: "3. ‡§®‡§ø‡§∑‡•ç‡§ï‡§∞‡•ç‡§∑ (‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡•ã‡§®‡•ç‡§Æ‡•Å‡§ñ‡•Ä):",
                                    text: "'‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§°‡§ø‡§µ‡§æ‡§á‡§°' ‡§ï‡•Ä ‡§ö‡•Å‡§®‡•å‡§§‡•Ä ‡§ï‡•ã ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§∞‡§§‡•á ‡§π‡•Å‡§è, '‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡•å‡§¶‡•ç‡§Ø‡•ã‡§ó‡§ø‡§ï‡•Ä' ‡§ï‡•á ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§™‡§∞ ‡§ú‡§º‡•ã‡§∞ ‡§¶‡•á‡§Ç‡•§"
                                }
                            },
                            questions: []
                        },
                    ]
                },

                init() {
                    this.$watch('showDiagnostic', (value) => {
                        if (value) { this.resetTest(); }
                    });
                },

                resetTest() {
                    this.currentView = 'languageSelection';
                    this.language = 'en';
                    this.currentSectionIndex = 0;
                    this.currentQuestionIndex = 0;
                    this.sectionScores = [];
                    for (const lang in this.sections) {
                        this.sections[lang].forEach(section => {
                            if (section.questions.length > 0) {
                                section.questions.forEach(q => q.selectedAnswerIndex = null);
                            }
                        });
                    }
                },

                setLanguage(lang) {
                    this.language = lang;
                    this.currentView = 'overview';
                },

                get activeSections() { return this.sections[this.language]; },
                
                get totalQuestions() {  
                    return this.activeSections.reduce((total, section) => {
                        if (section.type === 'mindset' || section.type === 'mcq') {
                            return total + section.questions.length;
                        }
                        return total;
                    }, 0);  
                },

                get progressPercentage() {
                    let questionsAnswered = 0;
                    let totalQuizQuestions = this.totalQuestions;
                    if (totalQuizQuestions === 0) return 0;
                    for(let i = 0; i < this.currentSectionIndex; i++) {  
                        if (this.activeSections[i].type === 'mcq' || this.activeSections[i].type === 'mindset') {
                            questionsAnswered += this.activeSections[i].questions.length;
                        }
                    }
                    if(this.currentSection().type === 'mcq' || this.currentSection().type === 'mindset') {
                        questionsAnswered += this.currentQuestionIndex;
                    }
                    return (questionsAnswered / totalQuizQuestions) * 100;
                },

                currentSection() { return this.activeSections[this.currentSectionIndex]; },
                currentQuestion() { return this.currentSection().questions[this.currentQuestionIndex]; },
                selectAnswer(index) { this.currentQuestion().selectedAnswerIndex = index; },
                isLastQuestionOfSection() { return this.currentQuestionIndex === this.currentSection().questions.length - 1; },
                isLastSection() { return this.currentSectionIndex === this.activeSections.length - 1; },

                next() {
                    const sectionType = this.currentSection().type;
                    if (sectionType === 'mcq' || sectionType === 'mindset') {
                        if (this.currentQuestion().selectedAnswerIndex === null) {  
                            alert(this.language === 'hi' ? '‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§â‡§§‡•ç‡§§‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§' : 'Please select an answer.');  
                            return;  
                        }
                        if (this.isLastQuestionOfSection()) {
                            this.sectionScores.push(this.calculateSectionScore());
                            this.currentView = 'summary';
                        } else { this.currentQuestionIndex++; }
                    } else {
                        this.sectionScores.push(null);  
                            this.currentView = 'summary';
                    }
                },
                
                nextSection() {
                    if (this.isLastSection()) { this.currentView = 'report'; }  
                    else {
                        this.currentSectionIndex++;
                        this.currentQuestionIndex = 0;
                        this.currentView = 'test';
                    }
                },

                calculateSectionScore() {  
                    const section = this.currentSection();
                    if (section.type === 'mindset') { return section.questions.filter(q => q.selectedAnswerIndex === 0).length; }
                    if (section.type === 'mcq') { return section.questions.filter(q => q.selectedAnswerIndex === q.correctAnswerIndex).length; }
                    return null;
                },

                calculateTotalScore() { return this.sectionScores.reduce((total, score) => total + (score || 0), 0); },

                getProfile() {
                    const mindsetScore = this.sectionScores[0];
                    if (this.language === 'hi') {
                        if (mindsetScore >= 7) return "‡§¶ ‡§ë‡§´‡§ø‡§∏‡§∞ ‡§Æ‡§æ‡§á‡§Ç‡§°‡§∏‡•á‡§ü üéñÔ∏è";
                        if (mindsetScore >= 4) return "‡§¶‡•É‡§¢‡§º ‡§®‡§ø‡§∂‡•ç‡§ö‡§Ø‡•Ä ‡§è‡§∏‡•ç‡§™‡§ø‡§∞‡•á‡§Ç‡§ü üí™";
                        return "‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞ ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡§æ üå±";
                    }
                    if (mindsetScore >= 7) return "The Officer Mindset üéñÔ∏è";
                    if (mindsetScore >= 4) return "The Determined Aspirant üí™";
                    return "The Honest Beginner üå±";
                },
                
                getDetailedFeedback() {
                    return this.activeSections.map((section, index) => {
                          const score = this.sectionScores[index];
                          const total = section.questions.length;
                          let analysis, nextStep;
                          if (this.language === 'hi') {
                              if (section.type === 'mindset') {
                                  if (score >= 7) analysis = '‡§¨‡§π‡•Å‡§§ ‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ! ‡§Ü‡§™‡§ï‡§æ Mindset ‡§è‡§ï ‡§ë‡§´‡§ø‡§∏‡§∞ ‡§ú‡•à‡§∏‡§æ ‡§π‡•à‡•§';
                                  else if (score >= 4) analysis = '‡§Ø‡§π ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§π‡•à! ‡§Ø‡§π ‡§µ‡•ã area ‡§π‡•à ‡§ú‡§π‡§æ‡§Å ‡§Ü‡§™‡§ï‡•ã ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡§æ ‡§π‡•à‡•§';
                                  else analysis = '‡§Ü‡§™‡§ï‡•Ä ‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§ß‡§æ‡§à! ‡§Ø‡§π ‡§Ü‡§§‡•ç‡§Æ-‡§ö‡§ø‡§Ç‡§§‡§® ‡§ï‡§æ ‡§è‡§ï ‡§∂‡§æ‡§®‡§¶‡§æ‡§∞ ‡§Ö‡§µ‡§∏‡§∞ ‡§π‡•à‡•§';
                                  nextStep = '‡§á‡§® ‡§∏‡§µ‡§æ‡§≤‡•ã‡§Ç ‡§™‡§∞ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§Ö‡§™‡§®‡•Ä mental strength ‡§¨‡§®‡§æ‡§®‡•á ‡§™‡§∞ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§Ç‡•§';
                              } else if (section.type === 'mcq') {
                                 analysis = (score / total >= 0.7) ? '‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§Æ‡§ù ‡§á‡§∏ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§Æ‡•á‡§Ç ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§π‡•à‡•§' : '‡§á‡§∏ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•ã ‡§î‡§∞ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§®‡•á ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à‡•§';
                                 nextStep = (score / total >= 0.7) ? '‡§á‡§∏ ‡§ó‡§§‡§ø ‡§ï‡•ã ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡•á‡§Ç ‡§î‡§∞ ‡§â‡§®‡•ç‡§®‡§§ ‡§µ‡§ø‡§∑‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§' : '‡§¨‡•Å‡§®‡§ø‡§Ø‡§æ‡§¶‡•Ä ‡§Ö‡§µ‡§ß‡§æ‡§∞‡§£‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§™‡§¢‡§º‡•á‡§Ç ‡§î‡§∞ ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§';
                              } else {
                                 analysis = "‡§Ø‡§π ‡§è‡§ï ‡§Ü‡§§‡•ç‡§Æ-‡§ö‡§ø‡§Ç‡§§‡§® ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§•‡§æ‡•§ ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø ‡§Ö‡§™‡§®‡•Ä ‡§∏‡•ã‡§ö ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•ã ‡§∏‡§Æ‡§ù‡§®‡§æ ‡§•‡§æ‡•§";
                                 nextStep = "‡§á‡§∏ ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§∏‡•á ‡§Æ‡§ø‡§≤‡•Ä ‡§∏‡•Ä‡§ñ ‡§ï‡•ã ‡§Ö‡§™‡§®‡•Ä ‡§§‡•à‡§Ø‡§æ‡§∞‡•Ä ‡§ï‡•Ä ‡§∞‡§£‡§®‡•Ä‡§§‡§ø ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§ï‡§∞‡•á‡§Ç‡•§";
                              }
                          } else {
                              if (section.type === 'mindset') {
                                  if (score >= 7) analysis = 'Excellent! Your mindset is like that of an officer.';
                                  else if (score >= 4) analysis = 'This is quite normal! This is an area you need to work on.';
                                  else analysis = 'Congratulations on your honesty! This is a great opportunity for self-reflection.';
                                  nextStep = 'Reflect on these questions and focus on building your mental strength.';
                              } else if (section.type === 'mcq') {
                                 analysis = (score / total >= 0.7) ? 'Your understanding in this area is good.' : 'You need to pay more attention to this area.';
                                 nextStep = (score / total >= 0.7) ? 'Maintain this pace and practice advanced topics.' : 'Re-read the basic concepts and practice more.';
                              } else {
                                 analysis = "This was a self-reflection exercise. The goal was to understand your thought process.";
                                 nextStep = "Incorporate the learnings from this exercise into your preparation strategy.";
                              }
                          }
                          return { title: section.name, analysis: analysis, nextStep: nextStep, score: score, total: total, type: section.type };
                    });
                }
            }
        }
        
        function prelimsPulse() {
            const today = new Date().toISOString().slice(0, 10);  
            
            // Mock Data agar Google Sheet se error aaye
            const MOCK_QUESTION = {
                date: today,
                question: { en: 'Error: Data loading issue. Please check Google Sheet.', hi: '‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§π‡•ã‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡•§ Google Sheet ‡§ú‡§æ‡§Å‡§ö‡•á‡§Ç‡•§' },
                options: { en: ['A) Check Sheet', 'B) Check Semicolons'], hi: ['A) ‡§∂‡•Ä‡§ü ‡§¶‡•á‡§ñ‡•á‡§Ç', 'B) ‡§∏‡•á‡§Æ‡§ø‡§ï‡•ã‡§≤‡§® ‡§ú‡§æ‡§Å‡§ö‡•á‡§Ç'] },
                correctAnswerIndex: 0,
                explanation: { en: 'The sheet data could not be parsed successfully.', hi: '‡§∂‡•Ä‡§ü ‡§ï‡§æ ‡§°‡•á‡§ü‡§æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§™‡§æ‡§∞‡•ç‡§∏ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§™‡§æ‡§Ø‡§æ‡•§' }
            };

            return {
                allQuestions: {},  
                isLoading: true,  
                language: 'en',
                flipped: false,
                selectedAnswerIndex: null,
                isCorrect: false,
                feedbackMessage: {
                    correct: { en: "Brilliant! Your analysis was spot on.", hi: "‡§∂‡§æ‡§®‡§¶‡§æ‡§∞! ‡§Ü‡§™‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§∏‡§ü‡•Ä‡§ï ‡§•‡§æ..." },
                    incorrect: { en: "No worries! Best students learn from their mistakes.", hi: "‡§ï‡•ã‡§à ‡§¨‡§æ‡§§ ‡§®‡§π‡•Ä‡§Ç! ‡§∏‡§∞‡•ç‡§µ‡§∂‡•ç‡§∞‡•á‡§∑‡•ç‡§† ‡§õ‡§æ‡§§‡•ç‡§∞ ‡§Ö‡§™‡§®‡•Ä ‡§ó‡§≤‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§π‡•Ä ‡§∏‡•Ä‡§ñ‡§§‡•á ‡§π‡•à‡§Ç..." }
                },

                // üåü FIX: Question Data Getter (Aaj ka Question Dhoondhna)
                get questionData() {
                    const question = this.allQuestions[today];
                    
                    if (!this.isLoading && !question) {
                        const firstKey = Object.keys(this.allQuestions)[0];
                        return this.allQuestions[firstKey] || MOCK_QUESTION;
                    }
                    
                    if (question) {
                        return question;
                    }
                    
                    return null; // Jab tak loading ho rahi hai
                },

                // FIX: Data Fetching aur Parsing Logic
                async fetchQuestions() {
                    this.isLoading = true;
                    const SHEET_URL = PRELIMS_SHEET_URL;  
                    
                    try {
                        const response = await fetch(SHEET_URL);
                        const csvText = await response.text();
                        
                        const rows = csvText.trim().split('\n').filter(row => row.trim() !== '');
                        if (rows.length < 2) throw new Error("Sheet is empty or has only headers.");
                        
                        const parsedQuestions = rows.slice(1).map(row => {
                            const values = row.match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g) || [];
                            const cleanedValues = values.map(value => value.trim().replace(/^"|"$/g, ''));

                            // Index-Based Parsing (A=0, B=1, C=2...)
                            return {
                                date: cleanedValues[0], // A
                                question: { en: cleanedValues[1], hi: cleanedValues[3] }, // B, D
                                options: {
                                    en: cleanedValues[2] ? cleanedValues[2].split(';').map(opt => opt.trim()) : [], // C (Semicolon Split)
                                    hi: cleanedValues[4] ? cleanedValues[4].split(';').map(opt => opt.trim()) : []  // E (Semicolon Split)
                                },
                                correctAnswerIndex: parseInt(cleanedValues[5], 10), // F
                                explanation: { en: cleanedValues[6], hi: cleanedValues[7] } // G, H
                            };
                        }).filter(q => q.question.en && q.date && q.correctAnswerIndex >= 0);

                        // Date-based map banana
                        this.allQuestions = parsedQuestions.reduce((acc, question) => {
                            acc[question.date] = question;
                            return acc;
                        }, {});

                    } catch (error) {
                        console.error("Error fetching sheet data:", error);
                        this.allQuestions = {};
                    } finally {
                        this.isLoading = false;
                    }
                },

                toggleLanguage() {  
                    this.language = this.language === 'en' ? 'hi' : 'en';  
                    this.flipped = false;
                    this.selectedAnswerIndex = null;
                },
                lockAnswer() {
                    if (this.selectedAnswerIndex !== null) {
                        this.isCorrect = this.selectedAnswerIndex === this.questionData.correctAnswerIndex;
                        this.flipped = true;
                    }
                },
                init() {
                    this.fetchQuestions();
                }
            }
        }
    </script>
</body>
</html>
